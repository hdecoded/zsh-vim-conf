"use strict";var P=Object.defineProperty;var z=Object.getOwnPropertyDescriptor;var K=Object.getOwnPropertyNames;var Y=Object.prototype.hasOwnProperty;var Z=(i,t)=>{for(var e in t)P(i,e,{get:t[e],enumerable:!0})},j=(i,t,e,p)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of K(t))!Y.call(i,o)&&o!==e&&P(i,o,{get:()=>t[o],enumerable:!(p=z(t,o))||p.enumerable});return i};var tt=i=>j(P({},"__esModule",{value:!0}),i);var nt={};Z(nt,{default:()=>J});module.exports=tt(nt);var s=require("react"),y=require("@raycast/api");var T=require("@raycast/api");var A=new T.Cache;var et=require("@raycast/api");var D=require("@raycast/api"),{layout:g,columns:V,itemInset:q,refreshInterval:it}=(0,D.getPreferenceValues)();var _=i=>{let[t,e]=(0,s.useState)(!0),[p,o]=(0,s.useState)([]),[n,E]=(0,s.useState)([]),R=(0,s.useCallback)(async()=>{e(!0);let $=await(0,y.getApplications)(),v=A.get("Quit App"),L=[];typeof v=="string"&&(L=JSON.parse(v));let B=$.filter(M=>!L.some(X=>M.bundleId==X.bundleId));o(L),E(B),e(!1)},[i]);return(0,s.useEffect)(()=>{R()},[R]),{quitApps:p,disQuitApps:n,loading:t}};var U=require("react");var I=require("@raycast/api");var C=require("@raycast/api");var u=require("@raycast/api");var r=require("@raycast/api"),m=require("react/jsx-runtime");function h(){return(0,m.jsxs)(r.ActionPanel.Section,{children:[(0,m.jsx)(r.Action,{icon:r.Icon.Gear,title:"Configure Command",shortcut:{modifiers:["shift","cmd"],key:","},onAction:r.openCommandPreferences}),(0,m.jsx)(r.Action,{icon:r.Icon.Gear,title:"Configure Extension",shortcut:{modifiers:["opt","cmd"],key:","},onAction:r.openExtensionPreferences})]})}var d=require("react/jsx-runtime");function Q(i){let{app:t,apps:e,setRefresh:p}=i,o=e.some(n=>n.path===t.path);return(0,d.jsxs)(u.ActionPanel,{children:[(0,d.jsx)(u.Action,{title:o?"Disable Auto Quit":"Enable Auto Quit",icon:o?u.Icon.XMarkCircle:u.Icon.Circle,onAction:async()=>{let n=[...e];if(o){let E=n.filter(R=>R.path!==t.path);A.set("Quit App",JSON.stringify(E))}else n.push(t),A.set("Quit App",JSON.stringify(n));p(Date.now())}}),(0,d.jsx)(h,{})]})}var b=require("react/jsx-runtime");function N(i){let{setRefresh:t,app:e,apps:p}=i;return(0,b.jsx)(C.List.Item,{title:e.name,icon:{fileIcon:e.path},quickLook:{path:e.path,name:e.name},actions:(0,b.jsx)(Q,{app:e,apps:p,setRefresh:t})})}var f=require("@raycast/api");var l=require("react/jsx-runtime");function S(){return g==="List"?(0,l.jsx)(f.List.EmptyView,{icon:{source:"empty-view-icon.png"},title:"No App",actions:(0,l.jsx)(f.ActionPanel,{children:(0,l.jsx)(h,{})})}):(0,l.jsx)(f.Grid.EmptyView,{icon:{source:"empty-view-icon.png"},title:"No App",actions:(0,l.jsx)(f.ActionPanel,{children:(0,l.jsx)(h,{})})})}var a=require("react/jsx-runtime");function W(i){let{quitApp:t,disQuitApp:e,setRefresh:p,loading:o}=i;return(0,a.jsxs)(I.List,{isLoading:o,searchBarPlaceholder:"Search apps",children:[(0,a.jsx)(S,{}),(0,a.jsx)(I.List.Section,{title:"Quit Apps",children:t.map(n=>(0,a.jsx)(N,{setRefresh:p,app:n,apps:t},n.path))}),(0,a.jsx)(I.List.Section,{title:"Dis Quit Apps",children:e.map(n=>(0,a.jsx)(N,{setRefresh:p,app:n,apps:t},n.path))})]})}var w=require("@raycast/api");var F=require("@raycast/api");var x=require("react/jsx-runtime");function G(i){let{setRefresh:t,app:e,quitApps:p}=i;return(0,x.jsx)(F.Grid.Item,{title:e.name,content:{fileIcon:e.path},quickLook:{path:e.path,name:e.name},actions:(0,x.jsx)(Q,{app:e,apps:p,setRefresh:t})})}var O=i=>!(i!=null&&String(i).length>0);var c=require("react/jsx-runtime");function H(i){let{quitApp:t,disQuitApp:e,setRefresh:p,loading:o}=i;return(0,c.jsxs)(w.Grid,{columns:parseInt(V),inset:O(q)?void 0:q,isLoading:o,searchBarPlaceholder:"Search apps",children:[(0,c.jsx)(S,{}),(0,c.jsx)(w.Grid.Section,{title:"Quit Apps",children:t.map(n=>(0,c.jsx)(G,{setRefresh:p,app:n,quitApps:t},n.path))}),(0,c.jsx)(w.Grid.Section,{title:"Dis Quit Apps",children:e.map(n=>(0,c.jsx)(G,{setRefresh:p,app:n,quitApps:t},n.path))})]})}var k=require("react/jsx-runtime");function J(){let[i,t]=(0,U.useState)(0),{quitApps:e,disQuitApps:p,loading:o}=_(i);return g==="List"?(0,k.jsx)(W,{quitApp:e,disQuitApp:p,setRefresh:t,loading:o}):(0,k.jsx)(H,{quitApp:e,disQuitApp:p,setRefresh:t,loading:o})}
